/*! (c) Developer Alex Dovby 
action Release It is Created 26.04.2020 - 15:03:44,87 
version 26.04.2020 */
;var CMD_BACK=3;var EVT_NIGHT_MODE=5100;var EVT_NEXT=5101;var EVT_BACK_LIGHT=5102;var EVT_WEATHER=5000;var BULL="&#8226;";var BULL_SP=" &#8226; ";var SPLASH_SHOW_DELAY=2000;var RESPONSE="native_response",EXTERNAL_CTRL="external_control",REQUEST="client_event";var CONTENT_PATCH="img/";var MAP_ICON_PATCH="img/map_icon/";var EVT_NIGHT_MODE=201;var INTERFACE_NAME="NativeApplication";var REQUEST_JSON="request",RESPONSE_JSON="response";var APP_DIRECTORY=20;var EVT_UI=5000;var EVT_UI_RETURN=22;var EVT_MAIN_TEST=0;var EVT_READY=1;var CMD_INIT=1000;var CMD_BACK=3;var EVT_TARGET_GEOPOSITION=5;var CMD_TARGET_COMPLETE=6;var CMD_UPDATE_GEOPOSITION=7;var CMD_AUTO_UPDATE_GEOPOSITION=8;var CMD_TARGET_GEOPOSITION=9;var EVT_NAVIGATION=10;var CMD_REDIRECT=32;var EVT_EXIT=35;var CMD_DEBUG=13;var EVT_EXO=777;var EVT_EXO_RESPONSE=888;function sendRequestToNativeApp(b,a){if(withAPP){window.setTimeout(function(){try{if(typeof a==="string"){window[INTERFACE_NAME].callNative(b,a)}else{window[INTERFACE_NAME].callNative(b,JSON.stringify(a))}}catch(c){}},10)}else{sendMesssegeWindowParent(REQUEST,b,a)}}function isNativeApplication(){try{window[INTERFACE_NAME].callNative(EVT_MAIN_TEST,"{}");console.info("[+] isNativeApplication | Application Present");return true}catch(a){console.info("[-] isNativeApplication | Application not Present");return false}}function isPanScan(){return(window.innerWidth/window.innerHeight>1.6)}function isDefined(a){return(a!==null&&a!==undefined)}function isUndefined(a){return(a===null||a===undefined)}function isPresent(a){return(a!==null&&a!==undefined&&a!=="")}function byBool(a){return(a===true||a==="true")}function notCarry(){}function isObj(b){var c=document.getElementById(b);var a=c?true:false;return a}function removeObject(a){var b=document.getElementById(a);if(b!==null){b.parentNode.removeChild(b)}}function createJSONAppRequest(b,a){if(isUndefined(a)){return{id:b,content:{}}}return{id:b,content:a}}function animationItemScrollView(b){var a;a=document.getElementById(b);if(a!==null){window.setTimeout(function(){a.scrollIntoView()},500)}}function isOdd(b){var a=b/2;return a===Math.floor(a)}function sendMesssegeWindowParent(b,d,c){var a={key:b,cmd:d,json:c};window.parent.postMessage(JSON.stringify(a),"*")}function addOnmessageEventsListener(){if(typeof window.addEventListener!=="undefined"){window.addEventListener("message",onMessageCrossDomain,false)}else{if(typeof window.attachEvent!=="undefined"){window.attachEvent("onmessage",onMessageCrossDomain)}}}var onMessageCrossDomain=function(h){h.stopPropagation();var d=h.data;var a=h.origin;var g="";var c={};if(isDefined(h.data)){var f=((typeof d)==="string")?JSON.parse(d):d;var b=f.key;console.log("[]");if(withAPP){console.info("[res] onMessageCrossDomain | key: "+b+" | data: "+d)}else{console.info("[res] onMessageCrossDomain | key: "+b+" | data: "+f)}if(b===RESPONSE){JavaScriptCallback(parseInt(f.cmd),f.json)}if(b===EXTERNAL_CTRL){console.log(" ");externalControlUI(f.cmd,f.json)}if(b==="client_req"){g=f.cmd;c=f.jsonData;JavaScriptCallback(g,c)}}else{console.error("onMessageCrossDomain | No Data Available ",a)}};function externalControlUI(c,a){console.info("externalControlUI",c);var b=a.state||false;switch(c){case"id.refresh":location.reload(true);break;case"id.back":window.setTimeout(function(){JavaScriptCallback(CMD_BACK,{})},20);break;case"debug_view":$("div").toggleClass("no_stroke",b);$("li").toggleClass("no_stroke",b);$("ul").toggleClass("no_stroke",b);break;case"id.grid":$("div").toggleClass("cs_grid");break;case"overscan":$("div").toggleClass("hide_overflow",a);console.info("overscan");break;case"id.scroll_down":$(".cs_scroll_y").animate({scrollTop:8000},"slow");break;case"id.scroll_up":$(".cs_scroll_y").animate({scrollTop:0},"slow");break}}function getBrowser(){var a=navigator.userAgent;if(a.search(/MSIE/)>0){return"MSIE"}if(a.search(/Firefox/)>0){return"Firefox"}if(a.search(/Opera/)>0){return"Opera"}if(a.search(/Chrome/)>0){return"Chrome"}if(a.search(/Safari/)>0){return"Safari"}if(a.search(/Konqueror/)>0){return"Konqueror"}if(a.search(/Iceweasel/)>0){return"Iceweasel"}if(a.search(/SeaMonkey/)>0){return"SeaMonkey"}if(a.search(/Gecko/)>0){return"Gecko"}return"N/A"}function getAndroidVersion(b){b=(b||navigator.userAgent).toLowerCase();var a=b.match(/android\s([0-9\.]*)/);return a?a[1]:false}function isiOS(){return window.navigator.userAgent.match(/(iPhone|iPad|iPod)/)}function iOSVersion(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||false}function isiPad(){return window.navigator.userAgent.match(/iPad/i)}function isTouchDevice(){return(/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent))}function getValidDate(b){if(isUndefined(b)){return}var a=new Date(b);return a}function createXHR(){var d=false;try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){try{d=new XMLHttpRequest()}catch(c){d=false}}}return d}function loadTextFile(d,a){var b="";var c=createXHR();c.open("GET",d,a);c.onreadystatechange=function(){if(c.readyState===4){if(c.status!==404){b=c.responseText}}};c.send(null);return b}function loadJSON(b){var a=loadTextFile(b);if(a===null){return{}}return JSON.parse(a)}var DEBUG=false;var withAPP=false;var language="en";var root_icon="icon/";var config_url="panel_ctrl_cmd.json";window.onload=function(){withAPP=isNativeApplication();if(withAPP){addOnmessageEventsListener();window.setTimeout(function(){sendRequestToNativeApp(EVT_READY,{browser:getBrowser(),ui:"project_remote"})},500)}else{createUI(loadJSON(config_url))}};function JavaScriptCallback(c,b){var a=b[RESPONSE_JSON];switch(c){case CMD_INIT:init(a);break;case CMD_BACK:backEvent();break;case APP_DIRECTORY:console.info("[DIR] JavaScriptCallback cmd = "+c+" | resp_data = "+JSON.stringify(a));createUI(a);break;default:console.info("[] JavaScriptCallback command "+c+" not present");break}}function init(a){console.info("init : "+JSON.stringify(a))}function selectProgram(b){b.stopPropagation();var c=$(b.target).attr("data-cmd");$(".item").toggleClass("select",false);$(".prog_grp").toggleClass("select",false);$(b.target).toggleClass("select",true);console.log(" selectProgram | json:",c);var a={cmd:c};if(isUndefined(c)){return}window.setTimeout(function(){if(withAPP){sendRequestToNativeApp(EVT_UI,a)}else{delphiRequest(a)}},150)}function itemClick(b){b.stopPropagation();var d=$(b.target).attr("data-cmd");var a;if($(b.target).hasClass("item_toggle")){$(b.target).toggleClass("select");var c=$(b.target).hasClass("select");a={cmd:d,state:c}}else{var a={cmd:d}}console.log("itemClick | json:",JSON.stringify(a));if(isUndefined(d)){return}window.setTimeout(function(){if(withAPP){sendRequestToNativeApp(EVT_UI,a)}else{delphiRequest(a)}},150)}function createUI(c){var b=c.screens||[];console.log("createUI | screens: "+JSON.stringify(b));if(b.length===0){return}var a='<div class="list_container" onclick="selectProgram(event);">'+getProgramsList(b)+"</div>";$("#content_container").html('<div class="cs_content">'+a+"</div>");$("#content_container").fadeIn("slow")}function getProgramsList(d){var c="";for(var b=0;b<d.length;b++){var a=new programItem(d[b]);c+=a.create()}return c}function getCommandList(d){var c="";for(var b=0;b<d.length;b++){var a=new itemListProto(d[b]);c+=a.create()}return'<ul onclick="itemClick(event);">'+c+"</ul>"}function programItem(c){if(isUndefined(c)){return""}var e=isPresent(c.icon)?' style="background-image:url('+root_icon+c.icon+');"':"";var d=' class="item"';var b={};var a=" data-cmd="+c.cmd;this.create=function(){var f=c.external?" ext":"";var g='<div class="prog_grp'+f+'"'+a+'><div class="program"'+d+'><div class="icon_container"><div class="icon_img"'+e+'"></div></div><div class="program_name">'+c.program+"</div></div>"+getCommandList(c.items)+"</div>";return g}}function itemListProto(b){if(isUndefined(b)){return""}var e=isPresent(b.icon)?' style="background-image:url('+root_icon+b.icon+');"':"";var c=' class="item"';var a=" data-cmd="+b.cmd;var d=b.toggle?"item_toggle":"item";this.create=function(){var f='<li class="'+d+'"'+a+'><div class="icon_container"><div class="icon_img"'+e+'></div></div><div class="item_name">'+b.name+'<span class="cs_desk">'+b.desc+"</span></div></li>";return f}}function delphiRequest(a){if(isDefined(a)){console.info("delphiRequest : "+JSON.stringify(a.cmd));window.location="#CMD:"+a.cmd}};